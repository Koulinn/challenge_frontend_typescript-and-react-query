import React from 'react';

// Packages
import {
    Badge,
    Card,
    CardHeader,
    CardFooter,
    Heading,
    Text,
    Box,
} from '@chakra-ui/react';

// Types
import { VulnerabilityDataType } from 'types/VulnerabilitiesTypes';

//CSS
import '../card.css';

function VulnerabilityCard(props: {
    vulnerability: VulnerabilityDataType;
    setVulnerabilityCard: (
        prev: VulnerabilityDataType | null
    ) => VulnerabilityDataType | void;
}) {
    const { category, severity, name, exploit_available } = props.vulnerability;

    const handleSelect = () => {
        props.setVulnerabilityCard(props.vulnerability);
    };

    return (
        <Card className="card--wrapper" onClick={handleSelect}>
            <CardHeader>
                <Heading size="md"> {name}</Heading>
                <Badge>{severity}</Badge>
            </CardHeader>

            <CardFooter>
                <Box>
                    <Text>{`Category : ${category}`}</Text>

                    <Text>{`Exploits : ${exploit_available}`}</Text>
                </Box>
            </CardFooter>
        </Card>
    );
}

export default VulnerabilityCard;
